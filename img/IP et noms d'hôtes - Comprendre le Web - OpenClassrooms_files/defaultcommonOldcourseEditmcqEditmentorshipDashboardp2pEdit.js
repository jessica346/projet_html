(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1117:function(e,t,n){var o=n(969),i=n(750),r=n(1118),a=n(970),c=n(1119),l=n(694),s=200;e.exports=function(e,t,n){var d=-1,u=i,m=e.length,f=!0,g=[],h=g;if(n)f=!1,u=r;else if(m>=s){var p=t?null:c(e);if(p)return l(p);f=!1,u=a,h=new o}else h=t?[]:g;e:for(;++d<m;){var v=e[d],E=t?t(v):v;if(v=n||0!==v?v:0,f&&E==E){for(var y=h.length;y--;)if(h[y]===E)continue e;t&&h.push(E),g.push(v)}else u(h,E,n)||(h!==g&&h.push(E),g.push(v))}return g}},1118:function(e,t){e.exports=function(e,t,n){for(var o=-1,i=null==e?0:e.length;++o<i;)if(n(t,e[o]))return!0;return!1}},1119:function(e,t,n){var o=n(695),i=n(751),r=n(694),a=o&&1/r(new o([,-0]))[1]==1/0?function(e){return new o(e)}:i;e.exports=a},1483:function(e,t,n){"use strict";var o=n(0),i=n.n(o);function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.registeredCallbacks=[],this.registerConnectionStateChange()}var t,n,o;return t=e,(n=[{key:"onConnectionStateChange",value:function(e){this.registeredCallbacks.push(e)}},{key:"registerConnectionStateChange",value:function(){var t=this;i()(window).on("online",function(){t.triggerRegisteredCallbacks(e.CONNECTION_SERVICE_STATE.ONLINE)}),i()(window).on("offline",function(){t.triggerRegisteredCallbacks(e.CONNECTION_SERVICE_STATE.OFFLINE)})}},{key:"triggerRegisteredCallbacks",value:function(e){this.registeredCallbacks.forEach(function(t){t(e)})}}])&&r(t.prototype,n),o&&r(t,o),e}();a.CONNECTION_SERVICE_STATE={ONLINE:0,OFFLINE:1},t.a=a},245:function(e,t,n){"use strict";t.a={BREAK:3,BACKSPACE_DELETE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE_BREAK:19,CAPS_LOCK:20,ESCAPE:27,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,SELECT:41,PRINT:42,EXECUTE:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,NUMBER0:48,NUMBER1:49,NUMBER2:50,NUMBER3:51,NUMBER4:52,NUMBER5:53,NUMBER6:54,NUMBER7:55,NUMBER8:56,NUMBER9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,WINDOWS_KEY_LEFT_CMD:91,WINDOWS_KEY_RIGHT:92,WINDOWS_KEY_RIGHT_CMD:93,NUMPAD0:96,NUMPAD1:97,NUMPAD2:98,NUMPAD3:99,NUMPAD4:100,NUMPAD5:101,NUMPAD6:102,NUMPAD7:103,NUMPAD8:104,NUMPAD9:105,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL_POINT:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,NUM_LOCK:144,SCROLL_LOCK:145,TOGGLE_MUTE:173,DECREASE_VOLUME:174,INCREASE_VOLUME:175,FIREBOXTOGGLE_MUTE:181,FIREFOXDECREASE_VOLUME:182,FIREFOXINCREASE_VOLUME:183,SEMI_COLON:186,EQUAL_SIGN:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,GRAVE_ACCENT:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,SINGLE_QUOTE:222,FIREFOX_CMD:224,ALTGR:225,TOGGLE_TOUCHPAD:255}},2523:function(e,t,n){"use strict";e.exports={NOT_A_TINYMCE_ELEMENT_EXCEPTION:"Not a Tinymce element"}},2524:function(e,t,n){var o=n(1117);e.exports=function(e){return e&&e.length?o(e):[]}},2526:function(e,t,n){"use strict";var o=function e(t){var o=n(11).default;function i(e){var t=document.createElement("div");return t.innerHTML=e,function(e){var t,n,o,i,r;for(i=0,r=(t=e.querySelectorAll("[data-mce-bogus]")).length;i<r;++i)(n=(o=t[i]).parentNode).removeChild(o),""===n.innerHTML.trim()&&n.parentNode.removeChild(n)}(t),function(e){var t,n,o;for(n=0,o=(t=e.querySelectorAll("[data-mce-selected]")).length;n<o;++n)t[n].removeAttribute("data-mce-selected")}(t),function(e){var t,n,o,i,r;for(o=0,i=(t=e.querySelectorAll("li > span:not(.js-math)")).length;o<i;++o)n=t[o],r=document.createTextNode(n.innerText||n.textContent),n.parentNode.insertBefore(r,n.nextSibling),n.parentNode.removeChild(n)}(t),function(e){var t,n,o,i;for(o=0,i=(t=e.querySelectorAll("pre")).length;o<i;++o)(n=t[o]).querySelectorAll("samp").length>1&&(n.innerHTML=n.innerHTML.replace(/[\s]/g,""),n.innerHTML=n.innerHTML.replace(/<\/samp><samp>/g,"\n"))}(t),t.innerHTML}t.on("getcontent",function(e){e.sanitized&&(e.content=i(e.content))}),t.on("nodechange",function(n){var i,r,a;i=n.element,r=i.id,a=i.getAttribute("data-claire-element-id"),!r&&a&&i.removeAttribute("data-claire-element-id"),function(n){var i;n.tagName.match(/^H\d/)&&(i=n.querySelectorAll("img")).length>0&&([].forEach.call(i,function(e){n.removeChild(e)}),t.windowManager.alert(o._(e.IMAGE_NOT_ALLOWED_HERE_WARNING)))}(n.element)}),t.on("change",function(){var e=t.getBody().childNodes,n=e[e.length-1];-1===["P","BR"].indexOf(n.tagName)&&t.dom.add(t.getBody(),"br",{"data-mce-bogus":"1"})}),t.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()})};o.IMAGE_NOT_ALLOWED_HERE_WARNING="course_editor.warning.image_not_allowed_here",e.exports=o},253:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return c});var o=String.fromCharCode(160),i=new RegExp("^(".concat(o,"+)"),"g"),r=new RegExp("(".concat(o,"+)$"),"g");function a(e){return e&&"code"===e.tagName.toLowerCase()}function c(e){return e.nodeValue.trim()}t.b={isCodeNode:a,trimLeftNode:function(e){return e.nodeValue.replace(i,"")},trimNode:c,trimRightNode:function(e){return e.nodeValue.replace(r,"")},selectCodeNode:function(e,t){var n=e.dom.getParent(t,"pre");if(n){e.dom.addClass(n,"selected-code");var o=e.dom.getNext(n,function(){return!0});o&&e.selection.setCursorLocation(o,0)}},unselectCodeNode:function(e,t){t||(t=e.dom.select(".selected-code")),tinymce.isArray(t)||(t=[t]),tinymce.each(t,function(t){return e.dom.removeClass(t,"selected-code")})},isInlinedCodeNode:function(e,t){return a(t)&&!e.dom.getParent(t,"pre")}}},256:function(e,t,n){"use strict";var o=n(0),i=n.n(o),r=n(2523),a=n.n(r),c=n(239),l=n.n(c),s=n(11),d=n(30),u=n(516),m={};m.clean=function(e){var t=i()("<div>").html(e);return function(e){u.a.unsmilize(e)}(t),t.html()};var f=m,g=function(e){var t,n=tinymce.util.VK,o=e.$;function i(t){var n=[];t?(Array.isArray(t)||(t=[t]),n=t.filter(function(t){return!e.dom.is(t,"code")&&!e.dom.is(t,"samp")})):n=e.dom.select("body > *:not(pre):not(code):not(.smilies):not(.ace)"),n.forEach(function(e){u.a.smilize(e)}),o(".js-smiley").attr("data-mce-object","true")}e.on("keyup",function(o){var r,a,c,l,s=o.keyCode;-1!==[39,37,38,40,13,186,32,53,189,80,79,68,188,219,189,190].indexOf(s)&&(l=(a=e.selection.getNode()).innerHTML.match(/..$/))&&(c=l[0],s===n.ENTER&&(a=a.previousSibling),219===s&&"^^"!==c||(clearTimeout(t),t=setTimeout(function(){r=e.selection.getBookmark(),i(a),e.selection.moveToBookmark(r)},50)))}),e.on("init",function(){i()}),e.on("getcontent",function(e){e.sanitized&&(e.content=f.clean(e.content))}),e.on("setcontent",function(){i()}),e.on("ObjectSelected",function(e){u.a.isSmiley(e.target)&&e.preventDefault()}),e.addButton("claireEmoticons",{type:"panelbutton",popoverAlign:"bc-tl",icon:"emoticons",panel:{autohide:!0,html:function(){var e,t=u.a.getList();return e='<table role="presentation" class="mce-grid mce-plugin-claireEmoticons">',e+="<tr>",t.forEach(function(t,n){e+="<td>",e+='  <a href="#" data-mce-value="'+t.value+'" data-mce-url="'+t.imagePath+'" tabindex="-1" >',e+='      <img title="'+t.value+'" src="'+t.imagePath+'"  />',e+="  </a>",e+="</td>",n>0&&(n+1)%5==0&&(e+="</tr><tr>")}),e+="</tr>",e+="</table>"},onclick:function(t){var n=e.dom.getParent(t.target,"a");n&&(e.insertContent(n.getAttribute("data-mce-value")),this.hide())}},tooltip:"Smileys"})},h=n(811),p=n(2),v=n(339),E=function(e){function t(e,t){return t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})}function n(e,t){var n=null;return function e(o){o.forEach(function(o){o.name()===t&&(n=o);var i=o.items&&o.items();i&&e(i.toArray())})}(e.items().toArray()),n}function o(t){var n=e.dom.getParent(t,"figure");e.dom.remove(t),e.dom.remove(n)}function i(t){var n;t.alt||(t.alt=e.settings.claireImage_empty_alt||""),n=t.caption&&e.settings.claireImage_use_figure?'<figure><img alt="'+t.alt+'" src="'+t.src+'" />    <figcaption>'+t.caption+"</figcaption></figure>":'<img alt="'+t.alt+'" src="'+t.src+'" />',e.execCommand("mceInsertContent",!1,n)}e.addButton("claireImage",{icon:"image",tooltip:"Insert/edit image",onclick:function(){var r,a,c=e.dom,l=e.selection.getNode(),d=c.getParent(l,"figure"),u=c.select("figcaption",d);u=0===u.length?null:u[0],"IMG"!==l.nodeName||l.getAttribute("data-mce-object")?l=null:(a={src:c.getAttrib(l,"src"),alt:c.getAttrib(l,"alt")},d&&u&&(a.caption=u.innerHTML));var m=[{name:"upload",type:"container",label:"Upload an image",html:'<div class="mce-btn mce-primary upload"><span class="js-upload">'+tinymce.i18n.translate("Choose")+'</span></div><div class="mce-throbber upload"></div>',onPostRender:function(){var t=this.getEl(),o=e.dom.select(".mce-btn",t)[0],i=e.dom.select(".js-upload",t)[0];v.a.create({fileSizeWarning:204800,onFileSizeWarning:function(){return confirm(Object(s.translate)("course_editor.wysiwyg.message.file_size_too_big_warning",{fileSize:Object(h.a)(204800)}))},startUpload:function(){var t=n(r,"upload").getEl();e.dom.toggleClass(t,"loading",!0),e.dom.toggleClass(o,"mce-disabled",!0)},uploaded:function(t,i){var a=n(r,"src").getEl(),c=e.dom.select("input",a)[0];e.dom.toggleClass(n(r,"upload").getEl(),"loading",!1),e.dom.toggleClass(o,"mce-disabled",!1),i.url?c.value=i.url:alert(tinymce.i18n.translate("Error during image upload"))}},i)}},{name:"src",type:"filepicker",id:"test",filetype:"image",label:Object(s.translate)("course_editor.wysiwyg.insert_image_dialog.source"),autofocus:!0},{name:"caption",type:"textbox",label:Object(s.translate)("course_editor.wysiwyg.insert_image_dialog.image_caption"),placeholder:Object(s.translate)("course_editor.wysiwyg.insert_image_dialog.image_caption_placeholder")},{name:"alt",type:"textbox",label:Object(s.translate)("course_editor.wysiwyg.insert_image_dialog.image_description"),placeholder:Object(s.translate)("course_editor.wysiwyg.insert_image_dialog.image_description_placeholder"),multiline:!0,minHeight:90}];r=e.windowManager.open({title:"Insert/edit image",minWidth:600,data:a,body:m,onSubmit:function(){var n=r.toJSON(),a=n.caption;"https:"===n.src.split("/")[0]?(n={src:n.src,alt:t(n.alt||n.caption).trim(),caption:t(n.caption,"<a><strong><em>").trim()},e.undoManager.transact(function(){l?n.src?(a?d?(u||(u=c.create("figcaption"),d.appendChild(u)),u.innerHTML=n.caption):(i(n),o(l),l=c.select("img",e.selection.getNode())[0]||l):c.remove(u),l.src=n.src,l.alt=n.alt,l.setAttribute("data-mce-src",n.src)):o(l):i(n)}),setTimeout(function(){e.execCommand("mceAutoResize",{})},1e3)):p.a.window.alert(Object(s.translate)("course_editor.wysiwyg.insert_image_window.invalid_url_protocol"))}})},stateSelector:"img:not([data-mce-object]), figcaption, figure"}),e.on("keydown",function(t){var n=e.selection.getNode(),i=e.dom.getParent(n,"figcaption");13===t.keyCode&&i&&t.preventDefault(),8===t.keyCode&&-1!==["IMG","FIGURE"].indexOf(n.tagName)&&(o(n),t.preventDefault())}),e.on("keyup",function(t){var n=e.selection.getNode(),o=e.dom.getParent(n,"figcaption"),i=o&&e.dom.select("br",o).length>0;8===t.keyCode&&i&&e.dom.remove(o)}),e.on("ObjectSelected",function(t){e.settings.image_noresizing&&t.preventDefault()})},y=n(2524),_=n.n(y);var C=function(e){var t=function(e){var t=e.tagName.toLowerCase();return-1===["aside","div","li"].indexOf(t)};function n(e,t,n){for(;e.hasChildNodes();)t.appendChild(e.firstChild);n&&e.parentNode&&e.parentNode.removeChild(e)}var o=function(o){var i=e.selection.getSelectedBlocks().filter(t),r="question"===o?"Div":"Aside",a=[],c=null;i.forEach(function(t){var n=function(t){var n=e.dom.getParent(t,"[data-claire-semantic]");return n&&n!==t?n.getAttribute("data-claire-semantic"):null}(t);null===c&&(c=n!==o),n&&function(t){var n=t.parentNode,o="div"===n.tagName.toLowerCase()?"claire-semanticBlockDiv":"claire-semanticBlockAside";e.formatter.remove(o,null,n)}(t),c&&(e.formatter.apply("claire-semanticBlock".concat(r),{type:o},t),a.push(t))});var l,s=(l=a,_()(l.map(function(t){return e.dom.getParent(t,"[data-claire-semantic]")}))),d=s.length;if(c&&d>1)for(var u=s[0],m=1;m<d;m+=1)n(s[m],u,!0);var f=e.dom.createRng();f.setStart(i[0],0),f.setEnd(i[i.length-1],1),e.selection.setRng(f),e.focus(),e.nodeChanged(),e.undoManager.add()};e.on("init",function(){e.formatter.register("claire-kbd",{inline:"kbd",remove:"all"}),e.formatter.register("claire-semanticBlockAside",{block:"aside",remove:"all",attributes:{"data-claire-semantic":"%type"},wrapper:!0,merge_siblings:!1}),e.formatter.register("claire-semanticBlockDiv",{block:"div",remove:"all",attributes:{"data-claire-semantic":"%type"},wrapper:!0,merge_siblings:!1})}),e.addButton("claireErrorBlock",{icon:"error",tooltip:"Error",onclick:function(){o("error")},stateSelector:'[data-claire-semantic="error"]'}),e.addButton("claireInfoBlock",{icon:"information",tooltip:"Information",onclick:function(){o("information")},stateSelector:'[data-claire-semantic="information"]'}),e.addButton("claireQuestionBlock",{icon:"question",tooltip:"Question",onclick:function(){o("question")},stateSelector:'[data-claire-semantic="question"]'}),e.addButton("claireWarningBlock",{icon:"warning2",tooltip:"Warning",onclick:function(){o("warning")},stateSelector:'[data-claire-semantic="warning"]'}),e.addButton("claireKeyBlock",{icon:"key",tooltip:"Key",stateSelector:"kbd",onclick:function(){e.formatter.toggle("claire-kbd"),e.focus();var t=e.dom.getParent(e.selection.getNode(),"span");if(t){var n=t.nextSibling;null!==n&&n.nodeType===Node.TEXT_NODE&&(n.nodeValue=" ".concat(n.nodeValue))}e.undoManager.add()}}),e.addShortcut("ctrl+alt+i","",function(){o("information")}),e.addShortcut("ctrl+alt+e","",function(){o("error")}),e.addShortcut("ctrl+alt+q","",function(){o("question")}),e.addShortcut("ctrl+alt+w","",function(){o("warning")})},b=n(62),N=n(249),w={};w.clean=function(e){var t=i()("<div>").html(e);return function(e){e.find("iframe.video").each(function(e,t){b.a.iframeToVideo(t).insertAfter(t),i()(t).remove()})}(t),function(e){e.find("video").each(function(e,t){var n=i()(t),o=n.parent();o.is("p")&&(n.insertAfter(o),""===o.html().trim()&&o.remove())})}(t),t.html()};var k=w,A=function(e){function t(){e.dom.select("video").forEach(function(e){b.a.videoToIframe(e)})}e.addButton("claireVideo",{icon:"media",onclick:function(){var n,o;o=[{name:"url",type:"textbox",size:60,label:s.default._("course_editor.wysiwyg.insert_video_window.text_label")}],n=e.windowManager.open({title:s.default._("course_editor.wysiwyg.insert_video_window.title"),body:o,onSubmit:function(){var o=n.toJSON().url;N.a.isValidVideoUrl(o)?e.undoManager.transact(function(){var n=e.selection.getNode(),i=e.dom.create("span",{id:"_temp_"}),r=e.dom.create("video",{src:o});e.selection.setNode(i),e.dom.split(n,e.dom.select("#_temp_")[0]),e.dom.replace(r,"_temp_"),t(),e.nodeChanged()}):alert("Not a valid video URL")}})},tooltip:"Insert Video"}),e.on("init",function(){setTimeout(function(){t()},500)}),e.on("getcontent",function(e){e.sanitized&&(e.content=k.clean(e.content))}),e.on("setcontent",function(e){setTimeout(function(){t()},500)})},T=n(7),S=n.n(T),M=n(1120),O=n.n(M),I=n(571),R=n(517),x=n.n(R),B=n(574);function P(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var D={contentIndex:0,rangeOffset:0,tree:[],setSelectedNode:function(e){var t=e.selection.getRng(),n=e.selection.getStart();this.contentIndex=P(n.childNodes).indexOf(t.startContainer),this.rangeOffset=t.startOffset,!!e.dom.getParent(n,"[data-mce-bogus]")&&this.rangeOffset--,this.addNodeInTree(n)},addNodeInTree:function(e){var t=e.parentNode,n=P(t.childNodes).indexOf(e);this.tree.unshift(n),"BODY"!==t.tagName&&this.addNodeInTree(t)},moveToSelectedNode:function(e){var t=null,n=this.tree.reduce(function(e,n){return e?(t=e,e.childNodes[n]):null},e.getBody())||t;function o(){e.selection.setCursorLocation(t)}if(n)if(n.nodeType===Node.TEXT_NODE&&(n=t),this.contentIndex>-1)try{e.selection.setCursorLocation(n.childNodes[this.contentIndex],this.rangeOffset)}catch(e){o()}else o()},reset:function(){this.rangeOffset=0,this.contentIndex=0,this.tree=[]}},L={positionCaretOnElement:function(e){tinymce.activeEditor.selection.setCursorLocation(e)},moveCursor:function(e){this.positionCaretOnElement(e)},getItemByName:function(e,t){var n=this;return e&&e.items?e.items().toArray().reduce(function(e,o){return e||(o.name()===t?o:n.getItemByName(o,t))},null):null},keyPressed:function(e){return{is:function(t){return Array.isArray(t)||(t=[t]),t.indexOf(e)>-1},isNot:function(t){return Array.isArray(t)||(t=[t]),-1===t.indexOf(e)}}},setAnchorCaret:function(){var e=tinymce.activeEditor;D.setSelectedNode(e)},goToAnchorCaret:function(){var e=tinymce.activeEditor,t=window.document.activeElement.tagName;"BODY"===t||"IFRAME"===t?(e.focus(),D.moveToSelectedNode(e),D.reset()):D.reset()}},F=I.a.create(x.a.HIGHLITER_ACE),j={};j.clean=function(e){var t=i()("<div>").html(e);return function(e){var t=new B.a(F),n=e.find("code").filter(function(e,t){return i()(t).parent().is("pre")});n.length>0&&t.unColorizeElement(n)}(t),t.html()};var H=j,U=n(253),V=n(332),W=n(245);function z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var G,K,q,$,X,Y,Q=I.a.create(x.a.HIGHLITER_ACE),J=new B.a(Q),Z=1e3,ee="";function te(e){clearTimeout(Y),Y=setTimeout(function(){ee=""}.bind(this),Z),e!==W.a.BACKSPACE_DELETE||S.a.isEmpty(ee)?e>=W.a.A&&e<=W.a.Z&&(ee+=String.fromCharCode(e)):ee=ee.substring(0,ee.length-1)}function ne(e,t){var n=null;e.each(function(e){n||e.settings.text.substring(0,t.length).toUpperCase()!==t||(n=e)}),n&&n.focus()}function oe(){return X!==G||$.getContent()!==q}var ie=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),K=n,this.editor=t}var t,n,o;return t=e,(n=[{key:"show",value:function(e){var t,n,o,i=this,r=this.editor.selection.isCollapsed(),a=this.editor.selection.getNode(),c=this.editor.dom.getParent(a,"code");q="",G="",X=null,tinymce.isArray(c)&&(c=c.length>0?c[0]:null),U.b.unselectCodeNode(this.editor),c?(this.editor.selection.collapse(!1),q=J.getCodeFromElement(c).source,G=Q.getValideLanguage(this.editor.dom.getAttrib(c,"data-claire-semantic")),U.b.selectCodeNode(this.editor,c)):(r||(q=this.editor.selection.getContent({format:"text"})),G=X||"text"),o=K.map(function(e){return{text:e,value:e,selected:G===e}}),(n=[{name:"list",label:"Langages",type:"listBox",value:G,values:o,onselect:function(e){var t=e.control.value();$.setLanguage(Q.getValideSyntaxer(t))},onshow:function(){this.focus()},onkeydown:function(e){e.keyCode===W.a.BACKSPACE_DELETE&&e.preventDefault(),e.keyCode!==W.a.UP_ARROW&&e.keyCode!==W.a.DOWN_ARROW&&(e.keyCode!==W.a.ENTER?this.menu&&(te(e.keyCode),ne(this.menu.items(),ee)):function(e,t){if(S.a.has(t,"target")){var n=t.target.innerText.replace(/ /g,"");ne(e.menu.items(),n)}}(this,e))}}]).push({type:"container",minWidth:570,minHeight:450,items:{type:"textbox",multiline:!0,onPostRender:function(){$=V.a.create({inline:!1,initialContent:q,language:Q.getValideSyntaxer(G),onEsc:function(){t.close()},onSubmit:function(){t.submit()}},this.getEl())}}}),t=this.editor.windowManager.open({title:s.default._("course_editor.wysiwyg.word.code_block_title"),body:n,onClose:function(){$.destroy(),!oe()&&c&&L.moveCursor(i.editor.dom.getParent(c,"pre"))},onSubmit:function(t){var n=$.getContent();G=t.data.list||K[0],oe()&&i.editor.fire("dirty"),X=G,e(G,n,c)}})}}])&&z(t.prototype,n),o&&z(t,o),e}();function re(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ae=function(e){var t=this,n=I.a.create(x.a.HIGHLITER_ACE),o=new B.a(n),i=e.settings,r=n.availablelanguages,a=e.$,c=new ie(e,r),l=!1,d=S.a.memoize(function(e){return H.clean(e)});function u(t){return!i.claireCode_simple_output&&t&&e.formatter.match("claire-blockCodePre")&&!e.dom.is(t,"[data-claire-semantic=console]")}function m(t,n){var i=e.dom.getParent(t,"pre"),r=e.dom.getAttrib(t,"data-claire-semantic");r&&"console"!==r&&i&&(e.selection.collapse(),o.colorizeElement(t,n))}function f(){var t=re(e.selection.getSelectedBlocks()),n=null,o=null;t.forEach(function(t){if(null===n&&(n=!e.formatter.match("claire-blockConsole")),!n)return e.formatter.remove("claire-blockCodePre"),void e.formatter.remove("claire-blockConsole");var i;re((i=t).querySelectorAll("[data-mce-bogus]")).forEach(function(e){i.removeChild(e)}),t.textContent.trim().length||(t.innerHTML=s.default._("course_editor.wysiwyg.message.consoleblock_initial_text"));var r=e.dom.create("pre");r.innerHTML=t.innerHTML,t.parentNode.insertBefore(r,t),t.parentNode.removeChild(t),e.formatter.apply("claire-blockConsole",{},r),o=e.dom.select("samp",r)[0]}),e.focus(),o&&e.selection.select(o),e.nodeChanged(),e.undoManager.add()}function g(t,n,r){var a;return!!n&&(i.claireCode_simple_output?void function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0,i=O.a.encode(n);if(o)e.dom.setAttrib(o,"data-claire-semantic",t),o.innerHTML=i;else{var r='<pre><code data-claire-semantic="'.concat(t,'">').concat(i,"</code></pre><br />");e.execCommand("mceInsertContent",!1,r)}}(t,n,r):(r?(a=n||" ",e.dom.setAttrib(r,"data-claire-semantic",t),o.updateColorizedElement(r,{source:a,language:t})):(e.execCommand("mceInsertContent",!1,'<p id="__tmp__"></p>'),(r=e.dom.get("__tmp__")).innerHTML=O.a.encode(n),e.selection.select(r),e.formatter.apply("claire-inlineCode",{type:t}),e.selection.select(r),e.formatter.apply("claire-blockCodePre"),r=e.dom.select("code",e.dom.get("__tmp__"))[0],e.dom.get("__tmp__").removeAttribute("id"),e.dom.get("___tmp___")&&(e.selection.select(e.dom.get("___tmp___")),e.selection.setContent("")),e.dom.setAttrib(r,"data-claire-semantic",t),m(r)),r))}function h(){var t=e.selection.getNode();U.b.isCodeNode(t)||(t=void 0);var n=t?t.getAttribute("claire-inlineCode"):null;n=n||"text",e.formatter.toggle("claire-inlineCode",{type:n},t),e.focus();var o=e.selection.getSel().anchorNode.parentNode;if(U.b.isCodeNode(o)){o.parentNode.normalize();var i=o.previousSibling,r=o.nextSibling;i&&(i.nodeValue=U.b.trimRightNode(i)+" "+U.a),r&&(r.nodeValue=U.a+" "+U.b.trimLeftNode(r))}e.undoManager.add()}function p(){l?tinymce.activeEditor.windowManager.alert(s.default._("course_editor.wysiwyg.message.cant_edit_code_block_while_saving")):c.show(v)}function v(t,n,o){if(o&&""===n.trim())return a(e.dom.getParent(o,"pre")).remove(),void e.execCommand("mceCleanup");var i=g(t,n,o);i&&L.moveCursor(e.dom.getParent(i,"pre"))}e.on("init",function(){e.formatter.register("claire-blockCode",{block:"code",attributes:{"data-claire-semantic":"%type"},remove:"all"}),e.formatter.register("claire-inlineCode",{inline:"code",remove:"all",attributes:{"data-claire-semantic":"%type"}}),e.formatter.register("claire-blockConsole",{block:"samp",remove:"all",wrapper:!0,merge_siblings:!1}),e.formatter.register("claire-blockCodePre",{block:"pre",remove:"all"})}),e.on("onBeforeSave",function(){l=!0}),e.on("onAfterSave",function(){l=!1}),e.on("blur",function(){U.b.unselectCodeNode(e)}),e.on("click",function(t){u(e.dom.getParent(t.target,"code"))&&e.addContextToolbar("pre code","codeEditTooltip codedelete")}),e.on("getcontent",function(e){e.sanitized&&(e.content=d(e.content))}),e.on("setcontent",function(){var t=e.dom.select("code:not([data-claire-semantic=console])");tinymce.each(t,function(t){e.dom.getParent(t,"pre")&&m(t)})}),e.on("keydown",function(t){var n=t.keyCode,o=e.selection.getNode(),i=e.dom.getParent(e.selection.getNode(),"code");if(13===n&&U.b.isInlinedCodeNode(e,o))return!1;u(i)&&t.preventDefault()}),e.addButton("claireCodeBlock",{icon:"code",onclick:p,stateSelector:"pre>code",tooltip:"Code"}),e.addButton("claireCodeInlineBlock",{icon:"codesample",onclick:h,stateSelector:"code:not(pre>code)",tooltip:"Inline Code"}),e.addButton("claireConsoleBlock",{icon:"codeConsoleblock",tooltip:"Console",stateSelector:"samp",onclick:f}),e.addCommand("claireInsertConsoleBlock",f),e.addCommand("claireInsertCodeBlock",function(e,n){g.apply(t,n)}),e.addButton("codedelete",{icon:"tabledelete",title:s.default._("global.word.delete"),onclick:function(){var t=e.selection.getNode(),n=e.dom.getParent(t,"pre");a(n).remove(),e.execCommand("mceCleanup")}}),e.addButton("codeEditTooltip",{icon:"code",title:s.default._("global.word.edit"),onclick:p}),e.addShortcut("meta+alt+c",s.default._("course_editor.wysiwyg.shortcuts.insert_code_block"),p),e.addShortcut("alt+c",s.default._("course_editor.wysiwyg.shortcuts.insert_code_inline"),h)},ce=n(1201),le=function(e){e.on("nodechange",function(){e.dom.select("a").forEach(function(e){Object(ce.c)(e)&&!e.classList.contains("custom-link")&&e.classList.add("custom-link")})})},se=n(1483);function de(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var ue=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.overlay=null,this.connectionService=new se.a,this.connectionService.onConnectionStateChange(this.onConnectionStateChange.bind(this))}var t,n,o;return t=e,(n=[{key:"onConnectionStateChange",value:function(e){switch(e){case se.a.CONNECTION_SERVICE_STATE.ONLINE:this.editor.fire("online");break;case se.a.CONNECTION_SERVICE_STATE.OFFLINE:this.editor.fire("offline")}}}])&&de(t.prototype,n),o&&de(t,o),e}();function me(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var fe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.elementsMath=n,this.dialog=null,this.$mathPreviewElement=null,this.codeEditorWidget=null}var t,n,o;return t=e,(n=[{key:"open",value:function(e){var t,n,o=this,i=this;try{t=this.elementsMath.getMathElement(this.editor.selection.getNode())}catch(e){}n=this._getMathFromTinymceContent(t),this.win=this.editor.windowManager.open({classes:"claire-editorpanel-math",title:s.default._("course_editor.wysiwyg.latex_editor_window.title"),body:this._getDialogBody(n),onPostRender:function(){i.dialog=this},onSubmit:function(){e(o.getMath())}})}},{key:"_getMathFromTinymceContent",value:function(e){var t={inline:!0,latex:"BODY"===this.editor.selection.getNode().tagName?"":this.editor.selection.getContent()};try{t=this.elementsMath.getMathFromElement(e)}catch(e){}return t}},{key:"getMath",value:function(){var e=L.getItemByName(this.dialog,"inline");return{latex:this.codeEditorWidget.getContent(),inline:e.checked()}}},{key:"_updatePreview",value:function(){this.$mathPreviewElement&&this.elementsMath.updateElement(this.$mathPreviewElement[0],this.getMath())}},{key:"_getDialogBody",value:function(e){var t=this.elementsMath,n=this;return[{name:"inline",label:s.default._("course_editor.wysiwyg.latex_editor_window.inline_mode_option"),type:"checkbox",checked:e.inline,onclick:function(){n._updatePreview()}},{type:"label",text:s.default._("course_editor.wysiwyg.latex_editor_window.text_area_label")},{type:"container",minHeight:150,items:{type:"textbox",multiline:!0,onPostRender:function(){n.codeEditorWidget=V.a.create({initialContent:e.latex,language:"latex",onChange:function(){n._updatePreview()},onEsc:function(){n.win.close()},onSubmit:function(){n.win.submit()},onReady:function(){setTimeout(function(){n.codeEditorWidget&&n.codeEditorWidget.focus()},150)}},this.getEl())}}},{type:"label",text:s.default._("course_editor.wysiwyg.latex_editor_window.preview_label")},{name:"container",maxWidth:450,minWidth:450,classes:"math-preview",minHeight:150,type:"container",onPostRender:function(){t.addMathToElement(this.getEl().firstChild,e).done(function(e){n.$mathPreviewElement=e})}}]}}])&&me(t.prototype,n),o&&me(t,o),e}(),ge=n(614),he=ge.a.elementsMath(ge.a.constants.MATH_RENDERER_MATHJAX),pe=function(e){var t=i()("<div>").html(e);return function(e){var t=e.find(".js-math");he.unMathElement(t)}(t),t.html()};function ve(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Ee=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.elementsMath=ge.a.elementsMath(ge.a.constants.MATH_RENDERER_MATHJAX),this.elementsMathBasic=ge.a.elementsMath(ge.a.constants.MATH_RENDERER_BASIC),this.$domQuery=t.$,this.VK=tinymce.util.VK,this.onDialogSubmit=this.onDialogSubmit.bind(this),this.addMathButton(),this.editor.on("init",function(){n.dialog=new fe(n.editor,n.elementsMath),n.initMath(),n.initEvents()})}var t,n,o;return t=e,(n=[{key:"getCorrectMathElementRendererForWysiwyg",value:function(){return/chrome/i.test(navigator.userAgent)?this.elementsMath:this.elementsMathBasic}},{key:"removeMathElement",value:function(e){var t=this.editor.dom.getParents(e,"div")[1]||e;this.editor.dom.remove(t)}},{key:"insertMathElement",value:function(e){var t=this,n=this.getCorrectMathElementRendererForWysiwyg(),o=e.inline?"span":"p";this.editor.undoManager.add(),this.editor.undoManager.transact(function(){if(t.editor.selection.isCollapsed())try{var i=n.getMathElement(t.editor.selection.getNode());t.removeMathElement(i)}catch(e){}var r=" <"+o+' id="__tmp__">&nbsp;</'+o+"> ";t.editor.execCommand("mceInsertContent",!1,r);var a=t.editor.dom.get("__tmp__");t.editor.execCommand("mceAddNonEditable",a),e.inline||(a.innerHTML=""),n.addMathToElement(a,e).done(function(o){var i=o[0];t.$domQuery(i).parent().removeAttr("id"),e.inline?(t.editor.dom.insertAfter(i,a),t.$domQuery(a).remove()):t.$domQuery(i).parent().prev().find(".js-math").each(function(e,t){n.updateElement(t)}),t.addBlockyblock(o.toArray()),t.selectBlockyBlock(i),L.moveCursor(i)})})}},{key:"onDialogSubmit",value:function(e){this.insertMathElement(e)}},{key:"getSanitizedContent",value:function(e){return pe(e)}},{key:"initMath",value:function(){var e=this,t=this.editor.dom.select("math");S.a.isEmpty(t)||this.getCorrectMathElementRendererForWysiwyg().mathElement(t).done(function(t){e.addBlockyblock(t.toArray())})}},{key:"addBlockyblock",value:function(e){this.editor.plugins.blockyBlock&&this.editor.plugins.blockyBlock.addBlockyBlock(e)}},{key:"selectBlockyBlock",value:function(e){this.editor.plugins.blockyBlock&&this.editor.plugins.blockyBlock.selectBlockyBlock(e)}},{key:"initEvents",value:function(){var e=this;this.editor.on("getcontent",function(t){t.sanitized&&(t.content=e.getSanitizedContent(t.content))});var t=null;this.editor.on("setcontent",function(){t||(t=window.setTimeout(function(){e.initMath(),t=null},10))}),this.editor.on("ObjectSelected",function(e){e.preventDefault()}),this.editor.on("keydown",function(t){var n=e.getCorrectMathElementRendererForWysiwyg(),o=t.keyCode===e.VK.ENTER;n.isMathElement(e.editor.selection.getNode())&&(t.preventDefault(),t.stopPropagation(),o&&e.dialog.open(e.onDialogSubmit))})}},{key:"addMathButton",value:function(){var e=this;this.editor.addButton("claireMath",{icon:"superscript",onclick:function(){e.dialog.open(e.onDialogSubmit)},tooltip:"Math",stateSelector:".math-formula"}),this.editor.addShortcut("meta+m",s.default._("course_editor.wysiwyg.shortcuts.insert_math"),function(){e.dialog.open(e.onDialogSubmit)})}}])&&ve(t.prototype,n),o&&ve(t,o),e}(),ye=function(e){var t=!1;function n(){e.isDirty()&&(L.setAnchorCaret(),e.fire("claireSave")),e.setDirty(!1),e.nodeChanged(!1)}e.addCommand("claireSave",n),e.on("onBeforeSave",function(){t=!0}),e.on("savedSuccess",function(){t=!1,e.setDirty(!1),e.nodeChanged(),L.goToAnchorCaret()}),e.addButton("claireSave",{tooltip:s.default._("course_editor.wysiwyg.word.save"),disabled:!0,icon:"save",cmd:"claireSave",onPostRender:function(){var n=this;e.on("nodeChange dirty",function(){n.disabled(t||!e.isDirty())})}}),e.addShortcut("Meta+s","",n),e.on("init",function(){if(!e.settings.ajaxSave){var t=i()(tinymce.DOM.getParent(e.id,"form"));S.a.isEmpty(t)||t.on("submit",function(){S.a.isNil(e.settings.onFormSubmit)||e.settings.onFormSubmit()})}})},_e=n(2526),Ce=n.n(_e),be=function(e){var t=tinymce.dom.DomQuery,n=null,o=tinymce.util.VK;function i(e){var n=t(e).closest(".js-blockyBlock");return n.length>0?n[0]:null}function r(e){return!!i(e)}function a(){t(".blockyBlock.is-selected",e.getBody()).removeClass("is-selected"),n=null}function c(o){return o=i(o),a(),n=o,e.selection.setCursorLocation(o),e.selection.collapse(),t(o).addClass("is-selected")}function l(e){var o=t(e).parent(),i=o.is("div");t(e=i?o:e).remove(),n=null}return e.on("click",function(){var t,n,o;e.selection.isCollapsed()?t=r(t=e.selection.getNode())?t:null:(n=e.selection.getStart(),o=e.selection.getEnd(),t=i(n)||i(o)),t?c(t):a()}),e.on("keydown",function(t){var s,d,u=t.keyCode,m=i(e.selection.getNode());if(e.selection.isCollapsed()){if(n){if(L.keyPressed(u).is([o.BACKSPACE,o.DELETE]))return l(n),void t.preventDefault();if(L.keyPressed(u).is([o.RIGHT,o.DOWN]))return e.selection.setCursorLocation(n.nextSibling||n.parentNode.nextElementSibling,0),a(),void t.preventDefault();if(m&&L.keyPressed(u).is([o.ENTER]))return void t.preventDefault()}L.keyPressed(u).is([o.BACKSPACE,o.DELETE,o.RIGHT,o.DOWN,o.LEFT,o.UP])&&((s=e.selection.getRng()).startOffset===s.startContainer.length&&L.keyPressed(u).is(o.RIGHT)?d=s.startContainer.nextSibling||s.startContainer.nextElementSibling:0===s.startOffset&&L.keyPressed(u).is([o.LEFT,o.BACKSPACE])&&(d=s.startContainer.previousSibling||s.startContainer.previousElementSibling),d&&r(d)?u===o.BACKSPACE?l(d):c(d):a())}}),e.on("keyup",function(){var t;e.selection.isCollapsed()&&r(t=e.selection.getNode())&&n!==t&&c(t)}),{addBlockyBlock:function(e){t(e).addClass("js-blockyBlock blockyBlock")},selectBlockyBlock:c}};function Ne(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var we=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.getElement().getAttribute("placeholder"),o=t.getContentAreaContainer();tinymce.DOM.setStyle(o,"position","relative"),this.element=tinymce.DOM.add(o,"div",{style:{position:"absolute",top:"5px",left:0,color:"#888",overflow:"hidden","pointer-events":"none","white-space":"pre-wrap",padding:"20px 10px",width:"85%"}},n)}var t,n,o;return t=e,(n=[{key:"hide",value:function(){tinymce.DOM.setStyle(this.element,"display","none")}},{key:"show",value:function(){tinymce.DOM.setStyle(this.element,"display","")}}])&&Ne(t.prototype,n),o&&Ne(t,o),e}();var ke=function(e){e.on("init",function(){var t=new we(e);function n(){1==!e.settings.readonly&&t.hide(),e.execCommand("mceFocus",!1)}function o(){""===e.getContent()?t.show():t.hide()}tinymce.DOM.bind(t.elelement,"click",n),e.on("focus",n),e.on("blur",o),e.on("change",o),e.on("setContent",o),e.on("keydown",function(){t.hide()}),e.on("keyup",o),o()})};function Ae(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"b",function(){return Se});var Te=["h1","h2","h3","h4","h5","h6"];var Se={statusbar:!1,menubar:!1,plugins:"autoresize link textcolor paste -claireEmoticons -claireImages",toolbar:"styleselect | fontsizeselect | bold italic forecolor | bullist numlist |link | claireEmoticons | claireImage",theme_url:"/js/tinymce/themes/modern/theme.js",skin_url:"/tinymce/skins/oc-lightgray",autoresize_min_height:280,browser_spellcheck:!0,paste_block_drop:!0,paste_postprocess:function(e,t){var n=t.target.settings.block_formats,o=[];n?o=n.split(";").map(function(e){return e.split("=")[1]}).filter(function(e){return Te.includes(e)}):o=Te;var i=Ae(t.node.querySelectorAll("[id],[data-claire-element-id]")),r=Ae(t.node.querySelectorAll("[class]")),a=Ae(t.node.querySelectorAll("[data-math]")),c=Ae(t.node.querySelectorAll(".smilies")),l=Ae(t.node.querySelectorAll("section,div:not([data-claire-semantic])")),s=Ae(t.node.querySelectorAll("iframe")),d=Ae(t.node.querySelectorAll("[style],[data-mce-style]")),u=Ae(t.node.querySelectorAll(Te.join(",")));i.forEach(function(e){e.removeAttribute("data-claire-element-id"),e.removeAttribute("id")}),function(e){e.forEach(function(e){e.removeAttribute("style"),e.removeAttribute("data-mce-style")})}(d),function(e){e.forEach(function(e){var t=e.parentNode,n=e.getAttribute("data-math");try{var o=JSON.parse(n),i=document.createElement("math");i.innerHTML=o.latex,t.insertBefore(i,e),t.removeChild(e)}catch(e){}})}(a),function(e){e.forEach(function(e){var t=e.parentNode,n=e.getAttribute("alt");t.insertBefore(document.createTextNode(n),e),t.removeChild(e)})}(c),function(e){e.forEach(function(e){e.removeAttribute("class")})}(r),function(e){e.forEach(function(e){var t=e.parentNode;if(t){for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}})}(l),function(e){e.forEach(function(e){var t=document.createElement("video"),n=e.parentNode;t.src=e.src,n.insertBefore(t,e),n.removeChild(e)})}(s),function(e,t){var n=Te.indexOf(e[0]),o=Te.indexOf(e[e.length-1]);t.forEach(function(t){var i=t.tagName.toLowerCase();if(!e.includes(i)){var r;if(e.length){var a=Te.indexOf(i);r=Te[a<n?n:o]}else r="p";var c=document.createElement(r);c.innerHTML=t.innerHTML,t.parentNode.replaceChild(c,t)}})}(o,u)},image_noresizing:!0,target_list:!1,relative_urls:!1,convert_urls:!0,custom_elements:"pre,code",extended_valid_elements:"*[id,data-claire-element-id,data-claire-semantic],math"};"fr"===s.default.getActiveLang()&&(Se.language_url="/js/vendors/tinymce/langs/fr_FR.js");var Me,Oe={};Oe.addWysiwygToElement=function(e,t){var n=i.a.Deferred(),o=i()(e),r=o.uniqueId().attr("id");return t=i.a.extend({},Se,t||{}),function(e){var t;e.css({width:e.width(),position:"absolute",left:-999999999}),t=i()('<div><i style="opacity:0.4;" class="icon-spinner icon-spin"></i>&nbsp;'.concat(s.default._("global.word.loading"),"</div>")).insertAfter(e),e.data("$loader",t)}(o),Oe.load().done(function(){t.selector="#".concat(r),t.setup=function(e){e.on("init",function(){!function(e){e.data("$loader").remove(),e.css({width:"",position:"relative",left:0})}(o),o.data("tinymceInstance",e),n.resolve(e)})};var e=window.setInterval(function(){i()(t.selector).is(":visible")&&(window.clearInterval(e),tinymce.init(t))},100)}),n},Oe.isElementInited=function(e){var t;try{t=this.getInstance(e)}catch(e){return!1}return!!t},Oe.getInstance=function(e){var t=i()(e).data("tinymceInstance");return t||l.a.throwException(a.a.NOT_A_TINYMCE_ELEMENT_EXCEPTION),t},Oe.destroy=function(e){var t=i()(e).data("tinymceInstance");t||l.a.throwException(a.a.NOT_A_TINYMCE_ELEMENT_EXCEPTION),tinymce.EditorManager.execCommand("mceRemoveEditor",!0,t.id)},Oe.setContent=function(e,t,n){Oe.getInstance(e).setContent(t,n||{})},Oe.getContent=function(e,t){return Oe.getInstance(e).getContent(t||{})},Oe.execCommand=function(e,t,n){Oe.getInstance(e).execCommand(t,n,null,{skip_focus:!0})},Oe.getToolbar=function(e){return i()(".mce-toolbar-grp",e).first()},Oe.load=function(){return Me||(Me=i.a.ajax({dataType:"script",cache:!0,url:d.a.getVersionned("/js/tinymce.js")}).done(function(){!function(e){e.PluginManager.add("claireEmoticons",g),e.PluginManager.add("claireImages",E),e.PluginManager.add("claireFormats",C),e.PluginManager.add("claireVideo",A),e.PluginManager.add("claireCode",ae),e.PluginManager.add("customContentLink",le),e.PluginManager.add("claireMath",Ee),e.PluginManager.add("claireOffline",ue),e.PluginManager.add("blockyBlock",be),e.PluginManager.add("claireSave",ye),e.PluginManager.add("claireSanitize",Ce.a),e.PluginManager.add("placeholder",ke)}(tinymce)})),Me};t.a=Oe},271:function(e){e.exports=JSON.parse('{"ace":{"iframe":{"url":"/js/oc/packages/ace-iframe.js"}},"tinymce":{"url":{"theme":{"main":"/css/tinymce/themes/OC-1445012260108/main"}}}}')},34:function(e,t){e.exports={EVENT_EDITOR_ON_READY:"editor.ready",EVENT_EDITOR_INIT:"editor.init",EVENT_EDITOR_ESC:"editor.esc",EVENT_EDITOR_SUBMITTED:"editor.submit",EVENT_EDITOR_CONTENT_CHANGED:"editor.content.changed",EVENT_EDITOR_SET_LANGUAGE:"editor.set.language",EVENT_EDITOR_SET_INLINE_MODE:"editor.set.inlineMode",EVENT_EDITOR_FOCUS:"editor.focus"}},495:function(e,t){e.exports=function(e){return e!=e}},496:function(e,t){e.exports=function(e,t,n){for(var o=n-1,i=e.length;++o<i;)if(e[o]===t)return o;return-1}},514:function(e,t,n){var o=n(578),i=n(495),r=n(496);e.exports=function(e,t,n){return t==t?r(e,t,n):o(e,i,n)}},516:function(e,t,n){"use strict";var o,i,r=n(0),a=n.n(r),c="/bundles/common/images/smiley",l={},s=[{value:":magicien:",img:"magicien.png"},{value:":diable:",img:"diable.png"},{value:":ange:",img:"ange.png"},{value:":ninja:",img:"ninja.png"},{value:">_<",img:"pinch.png"},{value:":pirate:",img:"pirate.png"},{value:":zorro:",img:"zorro.png"},{value:":honte:",img:"rouge.png"},{value:":soleil:",img:"soleil.png"},{value:":'(",img:"pleure.png"},{value:":waw:",img:"waw.png"},{value:":)",img:"smile.png"},{value:":D",img:"heureux.png"},{value:";)",img:"clin.png"},{value:":p",img:"langue.png"},{value:":lol:",img:"rire.gif"},{value:":euh:",img:"unsure.gif"},{value:":(",img:"triste.png"},{value:":o",img:"huh.png"},{value:":colere:",img:"mechant.png"},{value:"o_O",img:"blink.gif"},{value:"^^",img:"hihi.png"},{value:":-°",img:"siffle.png"}];function d(e){return e=(e=e.replace(/</g,"&lt;")).replace(/>/g,"&gt;")}function u(e,t){var n,o=/(##(\d{1,2})##)/g;for(s.forEach(function(n,o){e=e.replace(t?n.regexpElement:n.regexpString,'<img alt="##'+o+'##" class="smilies js-smiley" src="'+n.imagePath+'">')});null!==(n=o.exec(e));)e=e.replace(new RegExp(n[1],"g"),s[n[2]].value);return e}i={},s.forEach(function(e,t){i[e.value]=s[t]}),o=i,s=function(e){return e.forEach(function(t,n){e[n].imagePath=function(e){return c+"/"+o[e].img}(t.value)}),e}(s=function(e){return e.forEach(function(e){var t=/[-\/\\^$*+?.()|[\]{}]/g,n=d(e.value).replace(t,"\\$&"),o=e.value.replace(t,"\\$&");e.regexpElement=new RegExp(n,"g"),e.regexpString=new RegExp(o,"g")}),e}(s)),l.getList=function(){return s},l.smilize=function(e){return"string"==typeof e?u(e):(t=e,a()(t).add("*:not(code,samp,pre,.smilies)",t).each(function(){var e,t,n=this.firstChild,o=[];if(n)do{3===n.nodeType&&(t=u(t=d(t=e=n.nodeValue),!0))!==e&&(a()(n).before(t),o.push(n)),n=n.nextSibling}while(n);o.length&&a()(o).remove()}),t);var t},l.unsmilize=function(e){if("string"==typeof e)throw new Error("You must pass an element");return function(e){var t=a()(e);return t.find("img.js-smiley").each(function(e,t){var n=a()(t),o=n.attr("alt"),i=document.createTextNode(o);a()(i).insertAfter(n),n.remove()}),t}(e)},l.isSmiley=function(e){return a()(e).hasClass("js-smiley")},t.a=l},750:function(e,t,n){var o=n(514);e.exports=function(e,t){return!(null==e||!e.length)&&o(e,t,0)>-1}},751:function(e,t){e.exports=function(){}}}]);
//# sourceMappingURL=default~commonOld~courseEdit~mcqEdit~mentorshipDashboard~p2pEdit.e7c06b36caa2c4892e11.js.map